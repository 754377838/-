(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2ac5430a"],{"025d":function(t,e,a){},"2aee":function(t,e,a){},5032:function(t,e,a){},8035:function(t,e,a){"use strict";var s=a("5032"),o=a.n(s);o.a},"80ba":function(t,e,a){"use strict";var s=a("2aee"),o=a.n(s);o.a},"80c1":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("common-layout",[a("div",{staticClass:"top"},[a("div",{staticClass:"header"},[a("span",{staticClass:"title"},[t._v(t._s(t.systemName))])])]),a("div",{staticClass:"login"},[a("div",{staticClass:"login_left"},[a("div",{staticClass:"qrCode"},[a("div",{staticClass:"qrCodeImg"}),a("div",{staticClass:"qrTitle"},[t._v("扫码登录")])])]),a("div",{staticClass:"login_right"},[a("div",{staticClass:"login_title"},[a("p",[t._v("welcome欢迎")]),a("p",[t._v("种养一体化平台")])]),a("a-form",{attrs:{form:t.form},on:{submit:t.onSubmit}},[t.error?a("a-alert",{staticStyle:{"margin-bottom":"24px"},attrs:{type:"error",closable:!0,message:t.error,showIcon:""},on:{close:t.onClose}}):t._e(),a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{initialValue:"admin",rules:[{required:!0,message:"请输入账户名",whitespace:!0}]}],expression:"[\n              'name',\n              {\n                initialValue: 'admin',\n                rules: [\n                  {\n                    required: true,\n                    message: '请输入账户名',\n                    whitespace: true,\n                  },\n                ],\n              },\n            ]"}],attrs:{autocomplete:"autocomplete",size:"large",placeholder:"请输入用户名"}},[a("a-icon",{staticStyle:{color:"#348f6c"},attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{initialValue:"888888",rules:[{required:!0,message:"请输入密码",whitespace:!0}]}],expression:"[\n              'password',\n              {\n                initialValue: '888888',\n                rules: [\n                  { required: true, message: '请输入密码', whitespace: true },\n                ],\n              },\n            ]"}],attrs:{size:"large",placeholder:"请输入密码",autocomplete:"autocomplete",type:"password"}},[a("a-icon",{staticStyle:{color:"#348f6c"},attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),a("div",[a("a-checkbox",{staticStyle:{color:"#000"},attrs:{checked:!0}},[t._v("记住账号")]),a("a",{staticStyle:{float:"right",color:"#000"}},[t._v("忘记密码？")])],1),a("a-form-item",[a("a-button",{staticStyle:{width:"100%","margin-top":"8%",height:"50px","font-size":"1.5rem","font-weight":"600"},attrs:{loading:t.logging,htmlType:"submit",shape:"round",type:"primary"}},[t._v("登录")])],1),a("div",{staticStyle:{float:"right","margin-top":"15px"}},[a("router-link",{attrs:{to:"/dashboard/workplace"}},[t._v("立即注册")])],1)],1)],1)])])},o=[],i=a("5530"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"common-layout"},[a("div",{staticClass:"content"},[t._t("default")],2)])},n=[],c=a("613e"),l=a("5880"),u={name:"CommonLayout",components:{PageFooter:c["a"]},computed:Object(i["a"])({},Object(l["mapState"])("setting",["footerLinks","copyright"]))},m=u,d=(a("8035"),a("0c7c")),p=Object(d["a"])(m,r,n,!1,null,"2d917314",null),f=p.exports,g=a("93d6"),h=a("b775"),v=a("89a5"),b={name:"Login",components:{CommonLayout:f},data:function(){return{logging:!1,error:"",form:this.$form.createForm(this)}},computed:{systemName:function(){return this.$store.state.setting.systemName}},methods:Object(i["a"])(Object(i["a"])({},Object(l["mapMutations"])("account",["setUser","setPermissions","setRoles"])),{},{onSubmit:function(t){var e=this;t.preventDefault(),this.form.validateFields((function(t){if(!t){e.logging=!0;var a=e.form.getFieldValue("name"),s=e.form.getFieldValue("password");Object(g["b"])(a,s).then(e.afterLogin)}}))},afterLogin:function(t){var e=this;this.logging=!1;var a=t.data;if(a.code>=0){var s=a.data,o=s.user,i=s.permissions,r=s.roles;this.setUser(o),this.setPermissions(i),this.setRoles(r),Object(h["f"])({token:a.data.token,expireAt:new Date(a.data.expireAt)}),Object(g["a"])().then((function(t){var s=t.data.data;Object(v["d"])(s),e.$router.push("/PurchaseOrder/CreateOrder"),e.$message.success(a.message,3)}))}else this.error=a.message},onClose:function(){this.error=!1}})},w=b,y=(a("80ba"),a("b2db"),Object(d["a"])(w,s,o,!1,null,"ffce118a",null)),C=y.exports;e["default"]=C},b2db:function(t,e,a){"use strict";var s=a("025d"),o=a.n(s);o.a}}]);